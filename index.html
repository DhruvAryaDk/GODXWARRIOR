<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="monetag" content="ee5a6b58ed9f720c4f38c1b2a6f6c8ce" />
  <title>Super To-Do + Habit Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background: #121212;
      color: #fff;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2em;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 20px;
      background: #1e1e1e;
      border-radius: 12px;
    }
    .input-section, .habit-section {
      margin-bottom: 20px;
    }
    input, select {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
      font-size: 1em;
    }
    button {
      padding: 12px;
      background: #00c853;
      border: none;
      color: white;
      font-size: 1em;
      margin-top: 10px;
      width: 100%;
      border-radius: 6px;
      cursor: pointer;
    }
    .list-item {
      background: #2a2a2a;
      padding: 10px;
      border-radius: 6px;
      margin: 10px 0;
    }
    .time {
      font-size: 0.9em;
      color: #bbb;
    }
    .habit-complete {
      text-decoration: line-through;
      color: #76ff03;
    }
  </style>
</head>
<body>
  <h1>To-Do & Habit Master</h1>
  <div class="container">

    <!-- To-Do Section -->
    <div class="input-section">
      <h2>Add Task</h2>
      <input type="text" id="taskInput" placeholder="What's your task?">
      <input type="time" id="taskTime" />
      <button onclick="addTask()">Add Task + Set Reminder</button>
      <div id="taskList"></div>
    </div>

    <!-- Habit Tracker -->
    <div class="habit-section">
      <h2>Daily Habit</h2>
      <input type="text" id="habitInput" placeholder="Habit to track">
      <button onclick="addHabit()">Add Habit</button>
      <div id="habitList"></div>
    </div>

    <button onclick="requestNotificationPermission()">Allow Notifications</button>
  </div>

  <!-- Notification Sound -->
  <audio id="alarmSound" src="https://assets.mixkit.co/sfx/download/mixkit-alert-bells-echo-765.wav"></audio>

  <!-- Ad Script -->
  <script data-cfasync="false" type="text/javascript">
    (function() {
      var script = document.createElement('script');
      script.src = '//acscdn.com/script/suv4.js';
      script.type = 'text/javascript';
      script.async = true;
      script.setAttribute('data-zone', 'YOUR_ZONE_ID'); // Replace with your Zone ID
      document.body.appendChild(script);
    })();
  </script>

  <!-- App Logic -->
  <script>
    const taskList = document.getElementById("taskList");
    const habitList = document.getElementById("habitList");
    const alarmSound = document.getElementById("alarmSound");

    function requestNotificationPermission() {
      Notification.requestPermission().then(permission => {
        alert("Notification permission: " + permission);
      });
    }

    function addTask() {
      const taskText = document.getElementById("taskInput").value;
      const taskTime = document.getElementById("taskTime").value;
      if (!taskText || !taskTime) return alert("Fill both task and time!");

      const item = document.createElement("div");
      item.classList.add("list-item");
      item.innerHTML = `<strong>${taskText}</strong><div class="time">‚è∞ ${taskTime}</div>`;
      taskList.appendChild(item);

      // Reminder logic
      const now = new Date();
      const [hours, minutes] = taskTime.split(":");
      const taskDate = new Date();
      taskDate.setHours(+hours, +minutes, 0, 0);

      const delay = taskDate - now;
      if (delay > 0) {
        setTimeout(() => {
          showNotification("Reminder", `Time to: ${taskText}`);
          alarmSound.play();
          alert(`Reminder: ${taskText}`);
        }, delay);
      }

      document.getElementById("taskInput").value = "";
    }

    function addHabit() {
      const habit = document.getElementById("habitInput").value;
      if (!habit) return;
      const item = document.createElement("div");
      item.classList.add("list-item");
      item.innerHTML = `
        <input type="checkbox" onclick="this.parentElement.classList.toggle('habit-complete')" />
        ${habit}
      `;
      habitList.appendChild(item);
      document.getElementById("habitInput").value = "";
    }

    function showNotification(title, body) {
      if (Notification.permission === "granted") {
        new Notification(title, { body });
      }
    }
  </script>
</body>
</html>
