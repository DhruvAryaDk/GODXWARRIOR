<!DOCTYPE html>
<html>
<head>
    <title>Dhruv Live API Viewer</title>
</head>
<body>
    <h2>ðŸ“¡ Welcome to Dhruv's Live Logs</h2>
    <p>Enter your API key below to fetch live server logs.</p>

    <input type="text" id="apiKey" placeholder="Enter API Key" style="width:300px;">
    <button onclick="startFetching()">Start Live Logs</button>

    <h3>Live Logs:</h3>
    <pre id="output"></pre>

    <script>
        let intervalId;

        function startFetching() {
            const key = document.getElementById("apiKey").value;
            const url = "https://your-cloudflare-url.trycloudflare.com/api/logs?key=" + key;

            if (intervalId) clearInterval(intervalId);

            async function fetchLogs() {
                try {
                    let res = await fetch(url);
                    let data = await res.json();
                    document.getElementById("output").textContent = JSON.stringify(data, null, 2);
                } catch (err) {
                    document.getElementById("output").textContent = "Error: " + err;
                }
            }

            fetchLogs(); // fetch immediately
            intervalId = setInterval(fetchLogs, 5000); // refresh every 5s
        }
    </script>
</body>
</html>
